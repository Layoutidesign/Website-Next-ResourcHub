/** @format */

import { useState } from "react";

import styles from "./SuccessPopup.module.scss";

import { CloseIcon, SuccessIcon, SuccessForMobileIcon } from "../../Svgs";
import { signIn } from "next-auth/react";
import { useEffect } from "react";
import axios from "axios";
const SignPopup = ({ setShowSignPopup, showSignPopup, session }) => {
  const handleClose = () => setShowSignPopup(false);


  // useEffect(() => {
  //   if(session) {
  //     axios.post('https://www.resourchub-laravel.layouti.com/api/frontend/login', session.user)
  //     .then(res => {
  //     })
  //   }
  // }, [session])

  return (
    <div
      className={`${styles["popupOverlay"]} ${
        showSignPopup ? styles["show"] : ""
      }`}
    >
      <section className={`${styles["successPopup"]} `}>
        <header>
          <button type="button" onClick={handleClose}>
            <CloseIcon />
          </button>
        </header>
        <main>
          <SuccessIcon className="d-none d-md-block" />
          <SuccessForMobileIcon className="d-md-none" />
          <p>
          Thank you for submitting this resource and assisting us. Gather these websites to assist other designers in their work.
          </p>
          <button type="button" onClick={() => signIn('google')}>
            <span>
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0_3161_15125)">
                <path d="M6.86761 0.54945C4.38265 1.38382 2.2635 3.20922 1.08637 5.51078C0.675136 6.30609 0.377866 7.1514 0.200938 8.02523C-0.250148 10.1979 0.0638593 12.5108 1.08637 14.4928C1.74906 15.7862 2.70303 16.9342 3.85705 17.8303C4.9481 18.6815 6.21608 19.3088 7.56456 19.6616C9.26131 20.1096 11.072 20.0983 12.7855 19.7174C14.3336 19.3702 15.7961 18.6424 16.9613 17.5897C18.195 16.4752 19.0748 15.0139 19.5434 13.4405C20.0519 11.7213 20.1204 9.89007 19.8005 8.13187H10.1978V12.035H15.7558C15.5387 13.2838 14.7847 14.4205 13.7108 15.126C13.0366 15.5682 12.2655 15.8596 11.4657 15.994C10.6604 16.1284 9.83194 16.1452 9.03218 15.9885C8.21528 15.8319 7.43824 15.4955 6.75882 15.0252C5.67334 14.2803 4.84529 13.183 4.4225 11.9565C3.98855 10.7077 3.98257 9.31351 4.4225 8.06468C4.72535 7.18539 5.23381 6.36781 5.90207 5.70726C6.72455 4.87836 7.79289 4.29047 8.9469 4.04984C9.93515 3.84281 10.9748 3.88187 11.9403 4.16742C12.7628 4.4139 13.5171 4.85062 14.1396 5.43304C14.768 4.8225 15.3904 4.20687 16.0188 3.59632C16.3444 3.26586 16.6931 2.95218 17.0127 2.61078C16.0643 1.74828 14.9449 1.05414 13.7279 0.617419C11.5458 -0.183363 9.07243 -0.20016 6.86721 0.550231L6.86761 0.54945Z" fill="white"/>
                <path d="M6.86754 0.549214C9.07236 -0.201176 11.5462 -0.18438 13.7394 0.610933C14.956 1.04765 16.0702 1.74218 17.0241 2.60429C16.7042 2.94023 16.3615 3.25937 16.0303 3.58984C15.4019 4.20039 14.7795 4.81601 14.1511 5.42656C13.5282 4.84414 12.7743 4.40195 11.9518 4.16093C10.9863 3.87539 9.94664 3.83632 8.95839 4.04335C7.80438 4.28398 6.73644 4.87773 5.91356 5.70078C5.2453 6.36171 4.73684 7.17929 4.43399 8.0582C3.32022 7.2125 2.20605 6.36132 1.09229 5.51601C2.26343 3.20898 4.38258 1.38359 6.86754 0.549214Z" fill="#E94435"/>
                <path d="M0.200938 8.02458C0.377866 7.15115 0.680715 6.30544 1.08637 5.51013C2.20014 6.35583 3.31431 7.20701 4.42808 8.05232C3.98815 9.30115 3.99412 10.6953 4.42808 11.9441C3.31431 12.7898 2.20014 13.641 1.08637 14.4863C0.0638593 12.5156 -0.250147 10.1972 0.200938 8.02458Z" fill="#F8BB15"/>
                <path d="M10.2035 8.12537H19.8062C20.1262 9.88357 20.0577 11.7148 19.5492 13.434C19.081 15.0074 18.2011 16.4746 16.967 17.5832C15.8875 16.7601 14.802 15.9367 13.7281 15.1136C14.802 14.4136 15.556 13.2715 15.7731 12.0226H10.2151C10.1979 10.7293 10.2035 9.43005 10.2035 8.12537Z" fill="#547DBE"/>
                <path d="M1.08643 14.4926C2.20019 13.6469 3.31436 12.7957 4.42813 11.9504C4.85092 13.1824 5.67897 14.2742 6.76445 15.0191C7.44427 15.4894 8.22092 15.8199 9.03781 15.9824C9.83757 16.1391 10.6716 16.1223 11.4714 15.9879C12.2711 15.8535 13.0422 15.5625 13.7164 15.1199C14.7959 15.943 15.8814 16.7664 16.9553 17.5894C15.7902 18.6476 14.3277 19.3703 12.7796 19.7172C11.0717 20.098 9.26056 20.109 7.55863 19.6613C6.21055 19.3086 4.94217 18.6812 3.85112 17.8301C2.70308 16.9285 1.74911 15.7805 1.08643 14.4926Z" fill="#34A751"/>
                </g>
                <defs>
                <clipPath id="clip0_3161_15125">
                <rect width="20" height="20" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            </span>
            <span>
                Login with Google
            </span>
          </button>
        </main>
      </section>
    </div>
  );
};

export default SignPopup;
